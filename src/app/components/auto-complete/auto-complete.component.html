<body>
  <div class="row text-center">
    <div class="col-md-12">
      <h1 class="text-warning text-decoration-underline">Weather Check</h1>
    </div>
  </div>
  <div class="row text-center mt-5">
    <div class="col-md-12 d-flex justify-content-center">
      <form class="example-form m-2">
        <mat-form-field class="example-full-width">
          <mat-label>City</mat-label>
          <input
            type="text"
            placeholder="Pick one"
            aria-label="City"
            matInput
            [formControl]="myControl"
            [matAutocomplete]="auto"
          />
          <mat-autocomplete #auto="matAutocomplete">
            @for(option of filteredOptions | async; track option) {
            <mat-option [value]="option.city">
              {{ option.city }}
            </mat-option>
            }
          </mat-autocomplete>
        </mat-form-field>

        <button
          [disabled]="!myControl.value"
          type="button"
          class="btn btn-primary m-3 p-2"
          (click)="getWeather()"
        >
          Get Weather
          <fa-icon class="text-light" [icon]="faCloudSunRain"></fa-icon>
        </button>
      </form>
    </div>
  </div>

  <!-- Display API Data -->
  @if(temp) {
  <div class="row text-center mt-5">
    <div class="col-md-12 d-flex justify-content-center">
      <mat-card class="example-card">
        <mat-card-header class="justify-content-center">
          <mat-card-title class="fs-1 mb-3">{{ name }}</mat-card-title>
        </mat-card-header>
        <mat-card-content class="mt-3 text-info fs-2">
          {{ temp }}
          <span><fa-icon [icon]="faTemperatureLow"></fa-icon>C</span>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
  }
</body>
